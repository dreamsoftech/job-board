<div class="row-fluid">
	<div class="span8">
		<div id="new-job-post" class="form">
			<% if @job.errors.any? %>
			<div id="error_explanation">
				<h3><%= pluralize(@job.errors.count, "error") %> prohibited this job from being saved:</h3>
				<ul>
					<% @job.errors.full_messages.each do |msg| %>
		  		<li><%= msg %></li>
					<% end %>
				</ul>
			</div>
			<% end %>
			<h3>Step1: Create your Job</h3>
			<hr>

			<div class="field">
			<%= f.label :title, t("job.title") %>
			<%= f.text_field :title, :class => "text" %>
			</div>
			
			<div class="field">
			<%= f.label :location, t("job.location") %>
			<%= f.text_field :location, :class => "text" %>
			</div>

			<div class="field">
			<%= f.label :tags, t("job.tags") %>
			<% i = 0 %>
		  <%= f.select :tags, options_for_select(Job::TAGS.map { |m| [m, i=i+1] }) %>
			</div>

			<div class="field">
			<%= f.label :job_type, t("job.type") %>
			<% i = 0 %>
		  <%= f.select :job_type, options_for_select(Job::JOB_TYPE.map { |m| [m, i=i+1] }) %>
			</div>

			<hr>
			<h3>About your company</h3>

			<div class="field">
			<%= f.label :company_name, t("job.company_name") %>
			<%= f.text_field :company_name, :class => "text" %>
			</div>

			<div class="field">	
			<%= f.label :company_logo, t("job.company_logo") %>
			<%= f.file_field :company_logo, :class => "text" %>
			</div>

			<div class="field">
			<%= f.label :url, "Company URL" %>
			<%= f.text_field :url, :class => "text" %>
			</div>

			<hr>
			<h3>About your job</h3>
<!-- 			<div class="field">
			<%= f.label :occupation, t("job.occupation") %>
				<% Job::OCCUPATION.each do |o| %>
		      <%= f.radio_button :occupation, o %> <%= f.label :occupation, o, :value => o, :class => "inline" %>
				<% end %>
			</div>
 -->			
			<div class="field">
			<%= f.label :description, t("job.description") %>
			<%= f.text_area :description, :class => "text" %>
			</div>
			
			<div class="field">
			<%= f.label :apply_information, t("job.apply_information") %>
			<%= f.text_area :apply_information, :class => "text" %>
			</div>
		</div> <!-- #new-job-post div end -->
	</div><!-- span8 end -->
	<div class="span3 post-job-guide pull-right">
		<p>You'll target the cream of the crop.</p>
		<p>Where you post your job has a lot to do with the kind of people you'll attract. Our Job Board attracts the best because it's featured on industry-leading sites such as Signal vs. Noise, A List Apart, Zeldman.com, Kottke.org, Coudal.com, and the Ruby on Rails site. People who visit these sites value beautiful design, clean code, and high standards.</p>
		<p>One of a few, not one of many.</p>
		<p>You won't have to worry about being a needle in a haystack. We charge more than other job boards to keep supply in check. There are usually less than 200 jobs on our Job Board at any one time. That means your job listing won't get lost in the shuffle like it does at other job sites. Candidates will find you.</p>
		<p>Trusted by industry leaders.</p>
		<p>Industry leaders like The New York Times, CNET, Adobe, American Express, NBC, Trek, Skype, Yelp, and Facebook all use the 37signals Job Board to find the best of the best. Many of these brands come back again and again to find new candidates as their hiring needs expand.</p>
	</div>
</div><!-- row-fluid end -->

<div class="row-fluid">
	<hr>
	<br>
	<h3>Get more Applicants</h3>
	<div class="span7">
		<br><br><br>
		<h4>Have Your Listing Highlighted. Be a Featured Listing For 3 Days</h4>
		<br>
		<label>
			<%= f.check_box :highlighted %>
			<strong>Yes, Highlight my ad</strong> for only $25.
		</label>
	</div><!-- Highlight guide -->
	<div class="span4">
		<img src="/assets/highlight-guide.jpg" />
	</div><!-- Hightlight Image Image Area -->
</div>

<%= content_for :scripts do %>

<script type="text/javascript" charset="utf-8">
	$(function() {
		$("#job_tags").attr('multiple', '');
		$("#job_tags").addClass('chzn-select span11');
		$("#job_job_type").attr('multiple', '');
		$("#job_job_type").addClass('chzn-select span11');
	  $(".chzn-select").chosen(); 
	});
	$('#validation-form').validate({
		errorElement: 'span',
		errorClass: 'help-inline',
		focusInvalid: false,
		rules: {
			job_title: {
				required: true,
				phone: 'required'
			},
			job_location: {
				required: true,
				url: true
			},
			job_company_name: {
				required: true
			},
			job_description: {
				required: true
			}
		},

		messages: {
			email: {
				required: "Please provide a valid email.",
				email: "Please provide a valid email."
			},
			password: {
				required: "Please specify a password.",
				minlength: "Please specify a secure password."
			},
			subscription: "Please choose at least one option",
			gender: "Please choose gender",
			agree: "Please accept our policy"
		},

		invalidHandler: function (event, validator) { //display error alert on form submit   
			$('.alert-error', $('.login-form')).show();
		},

		highlight: function (e) {
			$(e).closest('.control-group').removeClass('info').addClass('error');
		},

		success: function (e) {
			$(e).closest('.control-group').removeClass('error').addClass('info');
			$(e).remove();
		},

		errorPlacement: function (error, element) {
			if(element.is(':checkbox') || element.is(':radio')) {
				var controls = element.closest('.controls');
				if(controls.find(':checkbox,:radio').length > 1) controls.append(error);
				else error.insertAfter(element.nextAll('.lbl:eq(0)').eq(0));
			}
			else if(element.is('.select2')) {
				error.insertAfter(element.siblings('[class*="select2-container"]:eq(0)'));
			}
			else if(element.is('.chzn-select')) {
				error.insertAfter(element.siblings('[class*="chzn-container"]:eq(0)'));
			}
			else error.insertAfter(element);
		},

		submitHandler: function (form) {
		},
		invalidHandler: function (form) {
		}
	});
</script>
<% end %>